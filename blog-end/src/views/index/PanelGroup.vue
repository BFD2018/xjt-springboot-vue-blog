<template>
  <el-row :gutter="40" class="panel-group">
    <el-col :xs="12" :sm="12" :lg="6" class="card-panel-col">
      <div class="card-panel">
        <div class="card-panel-icon-wrapper icon-people">
          <svg t="1643464646685" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1836" width="50" height="50"><path d="M293.172603 530.235616c25.249315 0 50.49863-5.610959 74.345205-18.235616 16.832877-8.416438 23.846575-29.457534 15.430137-47.693151-8.416438-16.832877-29.457534-23.846575-47.69315-15.430137-12.624658 7.013699-26.652055 9.819178-42.082192 9.819178-50.49863 0-91.178082-40.679452-91.178082-91.178082s40.679452-91.178082 91.178082-91.178082c5.610959 0 12.624658 0 18.235616 1.40274 8.416438 1.40274 16.832877 0 23.846576-4.208219-5.610959 16.832877-8.416438 35.068493-8.416439 54.706849 0 103.80274 84.164384 186.564384 186.564384 186.564383S701.369863 432.043836 701.369863 328.241096c0-21.041096-4.208219-40.679452-9.819178-60.317808 8.416438 8.416438 19.638356 11.221918 32.263014 9.819178 5.610959-1.40274 12.624658-1.40274 18.235616-1.40274 50.49863 0 91.178082 40.679452 91.178082 91.178082s-40.679452 91.178082-91.178082 91.178082c-15.430137 0-29.457534-2.805479-42.082192-9.819178-16.832877-8.416438-37.873973-1.40274-47.69315 15.430137-8.416438 16.832877-1.40274 37.873973 15.430137 47.693151 22.443836 11.221918 47.693151 18.235616 74.345205 18.235616 89.775342 0 161.315068-72.942466 161.315069-161.315068s-72.942466-161.315068-161.315069-161.315069c-11.221918 0-22.443836 1.40274-32.263014 2.80548-16.832877 2.805479-28.054795 18.235616-28.054794 35.068493-30.860274-60.317808-93.983562-102.4-166.926028-102.4-68.734247 0-129.052055 37.873973-161.315068 93.983562-2.805479-12.624658-12.624658-22.443836-26.652055-25.249315-11.221918-2.805479-21.041096-2.805479-32.263014-2.80548-89.775342 0-161.315068 72.942466-161.315068 161.315069s70.136986 159.912329 159.912329 159.912328z m220.230137-318.421917c64.526027 0 116.427397 51.90137 116.427397 116.427397s-51.90137 116.427397-116.427397 116.427397-116.427397-51.90137-116.427398-116.427397 51.90137-116.427397 116.427398-116.427397zM740.646575 533.041096c-11.221918 0-22.443836 0-33.665753 1.40274-19.638356 2.805479-32.263014 19.638356-30.860274 39.276712 0 1.40274 0 2.805479 1.40274 4.208219-47.693151-28.054795-103.80274-44.887671-164.120548-44.887671-57.512329 0-110.816438 15.430137-157.10685 40.679452 2.805479-19.638356-11.221918-36.471233-30.860274-39.276712-9.819178-1.40274-21.041096-1.40274-32.263013-1.40274C140.273973 533.041096 16.832877 656.482192 16.832877 807.978082c0 19.638356 15.430137 35.068493 35.068493 35.068493s35.068493-15.430137 35.068493-35.068493c0-113.621918 92.580822-206.20274 206.20274-206.20274 7.013699 0 12.624658 0 19.638356 1.40274-74.345205 58.915068-122.038356 150.093151-122.038356 252.493151 0 19.638356 15.430137 35.068493 35.068493 35.068493s35.068493-15.430137 35.068493-35.068493c0-140.273973 113.621918-253.89589 253.89589-253.895891 140.273973 0 253.89589 113.621918 253.895891 253.895891 0 19.638356 15.430137 35.068493 35.068493 35.068493s35.068493-15.430137 35.068493-35.068493c0-102.4-47.693151-193.578082-122.038356-252.493151 8.416438-1.40274 16.832877-1.40274 25.249315-1.40274 113.621918 0 206.20274 92.580822 206.20274 206.20274 0 19.638356 15.430137 35.068493 35.068493 35.068493s35.068493-15.430137 35.068493-35.068493C1016.986301 656.482192 893.545205 533.041096 740.646575 533.041096z" p-id="1837" fill="#cdcdcd"></path></svg>
        </div>
        <div class="card-panel-description">
          <div class="card-panel-text">
            用户总数
          </div>
          <count-to :start-val="0" :end-val="userCount" :duration="2600" class="card-panel-num"/>
        </div>
      </div>
    </el-col>
    <el-col :xs="12" :sm="12" :lg="6" class="card-panel-col">
      <div class="card-panel">
        <div class="card-panel-icon-wrapper icon-message">
          <svg t="1643464716034" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2763" width="50" height="50"><path d="M413.176315 0.499751H146.608339c-9.427296 0-17.060486 7.611202-17.060486 17.010511v989.467233c0 9.400309 7.633191 17.010511 17.060486 17.010511h266.568976c9.427296 0 17.060486-7.611202 17.060486-17.010511V17.510262C430.236802 8.110952 422.603611 0.499751 413.176315 0.499751z m-17.060486 989.467232H163.667826v-66.64874h149.278506c9.427296 0 17.060486-7.611202 17.060487-17.010512 0-9.400309-7.633191-17.011511-17.060487-17.011511H163.667826v-62.364878h83.169496c9.435292 0 17.060486-7.602206 17.060487-17.011511 0-9.400309-7.624195-17.010511-17.060487-17.010511h-83.169496v-65.380374h149.278506c9.427296 0 17.060486-7.610202 17.060487-17.010511 0-9.400309-7.633191-17.010511-17.060487-17.010512H163.667826v-66.446841h83.169496c9.435292 0 17.060486-7.610202 17.060487-17.010512 0-9.408305-7.624195-17.010511-17.060487-17.010511h-83.169496v-63.793166h149.278506c9.427296 0 17.060486-7.611202 17.060487-17.010511 0-9.400309-7.633191-17.010511-17.060487-17.010511H163.667826v-63.62425h83.169496c9.435292 0 17.060486-7.611202 17.060487-17.010512s-7.624195-17.010511-17.060487-17.010511h-83.169496v-65.371378h149.278506c9.427296 0 17.060486-7.602206 17.060487-17.010512 0-9.400309-7.633191-17.010511-17.060487-17.010511H163.667826v-65.036545h83.169496c9.435292 0 17.060486-7.602206 17.060487-17.010511 0-9.400309-7.624195-17.010511-17.060487-17.010512h-83.169496v-61.129495h149.278506c9.427296 0 17.060486-7.611202 17.060487-17.010511 0-9.400309-7.633191-17.010511-17.060487-17.010512H163.667826V34.521773h232.448003v955.44521z m498.635169-590.179486c0-0.049975-0.024988-0.091954-0.024987-0.142929-0.033983-2.478763-0.631685-4.779615-1.609197-6.896558-0.058971-0.125937-0.024988-0.25987-0.092954-0.385808L753.214628 106.579814c-11.331345-17.67418-39.419329-19.379329-52.679711 1.714145l-138.848712 284.068243c-0.058971 0.125937-0.033983 0.25987-0.092953 0.385808a16.845594 16.845594 0 0 0-1.533235 6.543734c-0.007996 0.167916-0.092954 0.31984-0.10095 0.487757 0 0.016992-0.007996 0.024988-0.007996 0.041979v557.887601a17.011511 17.011511 0 0 0 4.903553 11.920051l48.509793 49.27741a17.097468 17.097468 0 0 0 12.164929 5.082463h199.659365a17.181426 17.181426 0 0 0 11.694165-4.620694l52.511795-49.268414a16.984524 16.984524 0 0 0 5.366322-12.390816V399.82148c-0.001-0.007996-0.009995-0.024988-0.009995-0.033983zM727.359531 131.067594l47.296398 96.764712h-94.601792l47.305394-96.764712z m-19.461289 858.899389H632.689773l-38.618728-39.204436V421.208807l113.827197 26.175938v542.582238zM601.737219 388.044357l61.686217-126.191028h126.573837c0.42179 0 0.766617-0.201899 1.179411-0.234883l61.737192 126.291978-127.888181 28.493781-123.288476-28.359848z m258.901802 562.323387l-42.216933 39.599239h-76.404872V447.468703l118.620805-26.418817v529.317858z" p-id="2764" fill="#bfbfbf"></path></svg>
        </div>
        <div class="card-panel-description">
          <div class="card-panel-text">
            博客总数
          </div>
          <count-to :start-val="0" :end-val="blogCount" :duration="3000" class="card-panel-num"/>
        </div>
      </div>
    </el-col>
    <el-col :xs="12" :sm="12" :lg="6" class="card-panel-col">
      <div class="card-panel">
        <div class="card-panel-icon-wrapper icon-money">
          <svg t="1643464769380" class="icon" viewBox="0 0 1294 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3722" width="50" height="50"><path d="M701.276807 562.77303 701.276807 988.765895C701.276807 1004.335589 688.655074 1016.957321 673.085381 1016.957321 657.515682 1016.957321 644.893949 1004.335589 644.893949 988.765895L644.893949 562.432528 538.194282 669.132196C526.529781 680.796699 507.617887 680.796699 495.953386 669.132196 484.288884 657.467699 484.288884 638.555804 495.953385 626.891302L651.79468 471.050004C663.459177 459.385502 682.371072 459.385502 694.035575 471.050003L777.324145 554.338573 845.665264 622.679692C857.329766 634.344195 857.329766 653.256084 845.665264 664.920587 834.000761 676.585089 815.088866 676.585089 803.424369 664.920587L735.083251 596.579474 701.276807 562.77303ZM782.07716 728.426372 782.077154 936.923928 896.941509 936.923928 975.758762 936.923928C1149.759871 936.923928 1265.569081 793.094613 1265.569081 647.57566 1265.569081 521.259946 1183.452516 398.596738 1064.815788 372.9375 1070.621712 345.493421 1070.621712 338.893297 1070.621712 313.993421 1070.621712 145.605263 923.44659 27.375 777.927631 27.375 645.072961 27.375 514.788493 116.842948 496.667763 244.694079 455.4375 229.703947 430.774702 225.572368 382.916658 225.572368 201.017962 225.572368 26.726974 379.638158 26.726974 583.368418 26.726974 787.098683 201.017959 936.923928 382.916655 936.923928L448.884491 936.923928 564.093596 936.923928 564.093602 737.247351C523.203043 765.923263 466.411578 761.994477 429.87808 725.460976 388.942381 684.525282 388.94238 618.155396 429.878077 577.219697L602.258712 405.960528C643.194411 365.024828 709.564292 365.024827 750.499991 405.960527L918.124905 569.713351C959.060604 610.64905 959.060604 677.018931 918.124905 717.95463 881.042502 755.037038 823.088807 758.527617 782.07716 728.426372Z" p-id="3723" fill="#bfbfbf"></path></svg>
        </div>
        <div class="card-panel-description">
          <div class="card-panel-text">
            网盘文件总数
          </div>
          <count-to :start-val="0" :end-val="netDiskFileCount" :duration="3200" class="card-panel-num"/>
        </div>
      </div>
    </el-col>
    <el-col :xs="12" :sm="12" :lg="6" class="card-panel-col">
      <div class="card-panel">
        <div class="card-panel-icon-wrapper icon-shopping">
          <svg t="1643464802815" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4712" width="50" height="50"><path d="M357.3248 487.41376c0 30.09536-24.42752 54.4256-54.56896 54.4256-30.09536 0-54.53312-24.33024-54.53312-54.4256 0-30.09024 24.43264-54.52288 54.53312-54.52288C332.89728 432.88576 357.3248 457.3184 357.3248 487.41376L357.3248 487.41376M357.3248 487.41376 357.3248 487.41376zM982.21568 457.22112c0-227.05152-212.05504-411.79648-472.77568-411.79648-260.72576 0-472.7808 184.74496-472.7808 411.79648 0 134.88128 75.9808 261.21728 203.41248 338.19136l0 129.81248c0 9.24672 5.0688 17.67936 13.16352 21.94944 3.72736 2.08384 7.64416 3.08736 11.86816 3.08736 4.864 0 9.63072-1.38752 13.80864-4.1728l59.88864-39.53152c1.14688-0.69632 2.23744-1.59232 2.87744-2.19136l67.7376-45.09184c33.77664 6.35904 67.44576 9.64096 100.1216 9.64096C770.16064 868.81792 982.21568 684.17024 982.21568 457.22112L982.21568 457.22112M277.41696 759.26528c-119.48032-67.33824-190.7456-180.2752-190.7456-302.14144 0-199.44448 189.65504-361.73824 422.76864-361.73824 233.11872 0 422.77376 162.29376 422.77376 361.73824 0 199.43936-189.71136 361.73312-422.76864 361.73312-32.57856 0-66.34496-3.57376-100.31616-10.624-6.45632-1.48992-13.312-0.09728-18.9696 3.67616l-79.26272 52.8384c-1.09056 0.5888-2.67776 1.98656-2.67776 1.98656l-18.07872 11.91936 0-97.62816C290.13504 771.97824 285.21472 763.72992 277.41696 759.26528L277.41696 759.26528M277.41696 759.26528 277.41696 759.26528zM573.10208 472.1152c0 30.09536-24.42752 54.6304-54.62528 54.6304-30.09024 0-54.52288-24.53504-54.52288-54.6304 0-30.09536 24.43264-54.43584 54.52288-54.43584C548.66944 417.6896 573.10208 442.02496 573.10208 472.1152L573.10208 472.1152M573.10208 472.1152 573.10208 472.1152zM786.36032 472.1152c0 30.09536-24.43776 54.6304-54.53312 54.6304s-54.528-24.53504-54.528-54.6304c0-30.09536 24.43264-54.43584 54.528-54.43584C761.92256 417.6896 786.36032 442.02496 786.36032 472.1152L786.36032 472.1152M786.36032 472.1152 786.36032 472.1152z" p-id="4713" fill="#bfbfbf"></path></svg>
        </div>
        <div class="card-panel-description">
          <div class="card-panel-text">
            留言总数
          </div>
          <count-to :start-val="0" :end-val="messageCount" :duration="3600" class="card-panel-num"/>
        </div>
      </div>
    </el-col>
  </el-row>
</template>

<script>
  import CountTo from 'vue-count-to'

  export default {
    components: {
      CountTo
    },
    data() {
      return {
        userCount: 0,     //用户总数
        blogCount: 0,     //博客总数
        netDiskFileCount:0,     //网盘文件总数
        messageCount:0,     //留言总数
      }
    },
    methods: {
      /*网络请求*/
      _initUserCount() {
        this.$getRequest("/user/all").then(res => {
          //console.log(res);
          if (res.data.status === 200) {
            this.userCount = res.data.obj.length;
          }
        })
      },

      _initBlogCount() {
        this.$getRequest("/blog/all/counts").then(res => {
          //console.log(res);
          if (res.data.status === 200) {
            this.blogCount = res.data.obj;
          }
        })
      },

      _initNetDiskFileCount(){
        this.$getRequest("/file/back/allNum").then(res => {
          //console.log(res);
          if (res.data.status === 200) {
            this.netDiskFileCount = res.data.obj;
          }
        })
      },
      _initMessageCount(){
        this.$getRequest("/message/back/allNum").then(res => {
          // console.log(res);
          if (res.data.status === 200) {
            this.messageCount = res.data.obj;
          }
        })
      },
    },
    created() {
      this._initUserCount();

      this._initBlogCount();

      this._initNetDiskFileCount();

      this._initMessageCount();
    }
  }
</script>

<style lang="less" scoped>
  .panel-group {
    margin-top: 18px;

    .card-panel-col {
      margin-bottom: 32px;
    }

    .card-panel {
      height: 108px;
      cursor: pointer;
      font-size: 12px;
      position: relative;
      overflow: hidden;
      color: #666;
      background: #fff;
      box-shadow: 4px 4px 40px rgba(0, 0, 0, .05);
      border-color: rgba(0, 0, 0, .05);

      &:hover {
        .card-panel-icon-wrapper {
          color: #fff;
        }

        .icon-people {
          background: #40c9c6;
        }

        .icon-message {
          background: #36a3f7;
        }

        .icon-money {
          background: #f4516c;
        }

        .icon-shopping {
          background: #34bfa3
        }
      }

      .icon-people {
        color: #40c9c6;
      }

      .icon-message {
        color: #36a3f7;
      }

      .icon-money {
        color: #f4516c;
      }

      .icon-shopping {
        color: #34bfa3
      }

      .card-panel-icon-wrapper {
        float: left;
        margin: 14px 0 0 14px;
        padding: 16px;
        transition: all 0.38s ease-out;
        border-radius: 6px;
      }

      .card-panel-icon {
        float: left;
        font-size: 48px;
      }

      .card-panel-description {
        float: right;
        font-weight: bold;
        margin: 26px;
        margin-left: 0px;

        .card-panel-text {
          line-height: 18px;
          color: rgba(0, 0, 0, 0.45);
          font-size: 16px;
          margin-bottom: 12px;
        }

        .card-panel-num {
          font-size: 20px;
        }
      }
    }
  }

  @media (max-width: 550px) {
    .card-panel-description {
      display: none;
    }

    .card-panel-icon-wrapper {
      float: none !important;
      width: 100%;
      height: 100%;
      margin: 0 !important;

      .svg-icon {
        display: block;
        margin: 14px auto !important;
        float: none !important;
      }
    }
  }
</style>
